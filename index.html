<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIAF ‚Äî Sistema Integrado de Assuntos Fiscais</title>
    <style>
        :root {
            --primaria: #002157;
            --secundaria: #003366;
            --destaque: #c5a059;
            --destaque-grad: linear-gradient(135deg, #c5a059 0%, #d4b16a 100%);
            --sucesso: #28a745;
            --erro: #dc3545;
            --alerta: #ffc107;
            --fundo-sistema: #f0f2f5;
            --branco: #ffffff;
            --sombra-leve: 0 4px 20px rgba(0, 33, 87, 0.08);
            --sombra-media: 0 8px 30px rgba(0, 33, 87, 0.12);
            --sombra-forte: 0 15px 40px rgba(0, 33, 87, 0.18);
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--fundo-sistema);
            background-image: 
                radial-gradient(rgba(0, 33, 87, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, transparent 99%, rgba(0, 33, 87, 0.02) 100%);
            background-size: 40px 40px, 20px 100%;
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 51, 102, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(197, 160, 89, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 300px;
            background: rgba(0, 33, 87, 0.98);
            backdrop-filter: blur(15px) saturate(180%);
            -webkit-backdrop-filter: blur(15px) saturate(180%);
            color: white;
            display: flex;
            flex-direction: column;
            padding: 0;
            box-shadow: 6px 0 25px rgba(0, 0, 0, 0.2);
            z-index: 10;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }

        .sidebar-header {
            padding: 35px 25px;
            background: rgba(0, 0, 0, 0.15);
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
        }

        .sidebar-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 25%;
            width: 50%;
            height: 2px;
            background: var(--destaque-grad);
            border-radius: 2px;
        }

        .sidebar-header img {
            height: 75px;
            filter: drop-shadow(0 8px 12px rgba(0, 0, 0, 0.4));
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .sidebar-header:hover img {
            transform: scale(1.05);
        }

        .nav-group {
            padding: 25px 20px;
            flex: 1;
        }

        .nav-item {
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-size: 14.5px;
            display: flex;
            align-items: center;
            gap: 14px;
            color: rgba(255, 255, 255, 0.7);
            border-left: 4px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.12);
            color: white;
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.18);
            color: white;
            border-left: 4px solid var(--destaque);
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            right: 20px;
            width: 8px;
            height: 8px;
            background: var(--destaque);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--destaque);
        }

        /* --- CONTE√öDO PRINCIPAL --- */
        .main-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            position: relative;
            z-index: 1;
        }

        /* --- TOP BAR --- */
        .top-bar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px) saturate(180%);
            -webkit-backdrop-filter: blur(15px) saturate(180%);
            height: 95px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 50px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
            border-bottom: 3px solid var(--destaque);
            position: sticky;
            top: 0;
            z-index: 5;
            border-left: 1px solid rgba(255, 255, 255, 0.8);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 35px;
            position: relative;
        }

        .logo-container::after {
            content: '';
            position: absolute;
            right: -18px;
            top: 50%;
            transform: translateY(-50%);
            height: 40px;
            width: 1px;
            background: linear-gradient(to bottom, transparent, rgba(0, 33, 87, 0.3), transparent);
        }

        .logo-container img {
            transition: transform 0.4s ease;
        }

        .logo-container img:hover {
            transform: translateY(-2px);
        }

        /* --- BOT√ÉO DE LOGIN NO TOPO --- */
        .login-top-btn {
            background: linear-gradient(135deg, var(--primaria), var(--secundaria));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 33, 87, 0.3);
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .login-top-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 33, 87, 0.4);
        }

        .user-info-top {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 33, 87, 0.05);
            padding: 5px 20px 5px 10px;
            border-radius: 40px;
            border: 1px solid rgba(0, 33, 87, 0.1);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--destaque);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--primaria);
            font-size: 18px;
        }

        .user-name-top {
            font-weight: 700;
            color: var(--primaria);
        }

        .logout-top-btn {
            background: transparent;
            border: 1px solid var(--erro);
            color: var(--erro);
            padding: 5px 15px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-top-btn:hover {
            background: var(--erro);
            color: white;
        }

        /* --- MODAL DE LOGIN --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 33, 87, 0.95);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: fadeIn 0.3s ease;
        }

        .modal-login {
            background: white;
            border-radius: 30px;
            padding: 50px;
            width: 100%;
            max-width: 450px;
            box-shadow: var(--sombra-forte);
            border-top: 8px solid var(--destaque);
            position: relative;
            animation: slideUp 0.5s ease;
        }

        .modal-login h2 {
            color: var(--primaria);
            font-size: 32px;
            margin: 0 0 10px 0;
            font-weight: 900;
        }

        .modal-login p {
            color: #666;
            margin-bottom: 30px;
            font-size: 15px;
        }

        .login-field {
            margin-bottom: 25px;
        }

        .login-field label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #333;
            font-size: 14px;
        }

        .login-field input {
            width: 100%;
            height: 56px;
            border: 2px solid #e8ecef;
            border-radius: 16px;
            padding: 0 20px;
            font-size: 16px;
            transition: all 0.3s;
            box-sizing: border-box;
        }

        .login-field input:focus {
            outline: none;
            border-color: var(--destaque);
            box-shadow: 0 0 0 6px rgba(197, 160, 89, 0.15);
        }

        .modal-login-btn {
            width: 100%;
            height: 56px;
            background: linear-gradient(135deg, var(--primaria), var(--secundaria));
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.4s;
            margin-top: 20px;
        }

        .modal-login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 33, 87, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
            line-height: 20px;
        }

        .modal-close:hover {
            color: var(--erro);
        }

        .login-error {
            color: var(--erro);
            font-size: 14px;
            margin-top: 15px;
            text-align: center;
            display: none;
            font-weight: 600;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .system-status {
            position: absolute;
            top: 110px;
            right: 50px;
            font-size: 11.5px;
            color: var(--sucesso);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 800;
            text-transform: uppercase;
            background: rgba(40, 167, 69, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(40, 167, 69, 0.2);
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: var(--sucesso);
            border-radius: 50%;
            animation: pulse 1.8s infinite;
            box-shadow: 0 0 12px var(--sucesso);
            position: relative;
        }

        .status-dot::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 50%;
            border: 1px solid rgba(40, 167, 69, 0.4);
            animation: pulse-ring 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }

        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /* --- SISTEMA DE ABAS --- */
        .content-area {
            display: none;
            padding: 65px 50px;
            max-width: 1250px;
            width: 100%;
            box-sizing: border-box;
            margin: 0 auto;
            animation: fadeIn 0.6s ease-out;
        }

        .content-area.active {
            display: block;
            animation: slideIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateY(20px) scale(0.98);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }

        .page-title h1 {
            font-size: 36px;
            color: var(--primaria);
            margin: 0;
            letter-spacing: -1px;
            font-weight: 900;
            position: relative;
            display: inline-block;
            padding-bottom: 12px;
        }

        .page-title h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 70px;
            height: 4px;
            background: var(--destaque-grad);
            border-radius: 2px;
        }

        .page-title p {
            color: #666;
            margin: 15px 0 40px 0;
            font-size: 17px;
            line-height: 1.5;
            max-width: 800px;
        }

        /* --- FORMUL√ÅRIO --- */
        .form-card {
            background: var(--branco);
            border-radius: 24px;
            padding: 50px;
            box-shadow: var(--sombra-forte);
            border: 1px solid rgba(209, 217, 224, 0.6);
            border-top: 8px solid var(--destaque);
            position: relative;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }

        .form-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0, 33, 87, 0.15);
        }

        .form-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primaria), var(--destaque), var(--primaria));
            opacity: 0.2;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 35px;
        }

        .section-label {
            grid-column: span 2;
            font-size: 13px;
            text-transform: uppercase;
            color: var(--destaque);
            font-weight: 900;
            letter-spacing: 2.5px;
            padding-bottom: 15px;
            margin-top: 30px;
            position: relative;
            border-bottom: none;
        }

        .section-label::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, var(--destaque), transparent);
        }

        .field-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
        }

        label {
            font-size: 14px;
            font-weight: 700;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label::before {
            content: '‚Ä¢';
            color: var(--destaque);
            font-size: 20px;
            line-height: 0;
        }

        input, select, textarea {
            height: 56px;
            border: 2px solid #e8ecef;
            border-radius: 16px;
            padding: 0 20px;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #fdfdfe;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        input:hover, select:hover, textarea:hover {
            border-color: #d1d9e0;
            background: #fafbfc;
        }

        textarea {
            height: 140px;
            padding: 20px;
            resize: none;
            line-height: 1.5;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--destaque);
            background: white;
            box-shadow: 0 0 0 6px rgba(197, 160, 89, 0.15);
            transform: translateY(-2px);
        }

        /* --- ESTILOS PARA VALIDA√á√ÉO --- */
        .input-error {
            border-color: var(--erro) !important;
            background: #fff5f5 !important;
        }

        .input-error:focus {
            box-shadow: 0 0 0 6px rgba(220, 53, 69, 0.15) !important;
        }

        .error-message {
            color: var(--erro);
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
            display: none;
            align-items: center;
            gap: 5px;
        }

        .error-message::before {
            content: '‚ö†';
            font-size: 14px;
        }

        .form-message {
            grid-column: span 2;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        .form-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .form-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .form-message.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
            display: block;
        }

        /* --- MARCA D'√ÅGUA --- */
        .watermark-rfb {
            position: fixed;
            top: 55%;
            left: calc(50% + 150px);
            transform: translate(-50%, -50%) rotate(-5deg);
            width: 800px;
            opacity: 0.035;
            pointer-events: none;
            z-index: 0;
            filter: grayscale(1) brightness(1.2);
        }

        /* --- TRANSPAR√äNCIA FISCAL MELHORADA --- */
        .impostometro-container {
            text-align: center;
            padding: 40px;
            background: linear-gradient(145deg, #0f0f0f, #1a1a1a);
            border-radius: 24px;
            color: #00ff00;
            margin-bottom: 45px;
            border: 3px solid #222;
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.3),
                inset 0 0 40px rgba(0, 255, 0, 0.08),
                0 0 30px rgba(0, 255, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .impostometro-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #00ff00, transparent);
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .impostometro-valor {
            font-size: 64px;
            font-weight: 900;
            text-shadow: 0 0 20px rgba(0, 255, 0, 0.6);
            letter-spacing: -1.5px;
            font-family: 'Courier New', monospace;
            background: linear-gradient(to bottom, #00ff00, #00cc00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }

        .impostometro-valor::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent 50%, rgba(0, 255, 0, 0.1) 50%);
            background-size: 10px 100%;
            opacity: 0.3;
            pointer-events: none;
        }

        /* --- ESTAT√çSTICAS DETALHADAS --- */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border: 1px solid #e8ecef;
            box-shadow: var(--sombra-leve);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--sombra-media);
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .stat-title {
            font-size: 14px;
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 800;
            color: var(--primaria);
            margin: 10px 0;
        }

        .stat-trend {
            font-size: 12px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .trend-up {
            background: #d4edda;
            color: #155724;
        }

        .trend-down {
            background: #f8d7da;
            color: #721c24;
        }

        .trend-neutral {
            background: #e2e3e5;
            color: #383d41;
        }

        .stat-detail {
            font-size: 12px;
            color: #666;
            margin-top: 8px;
            line-height: 1.4;
        }

        /* --- GR√ÅFICO SIMULADO --- */
        .grafico-container {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid #e8ecef;
            box-shadow: var(--sombra-leve);
        }

        .grafico-barras {
            display: flex;
            align-items: flex-end;
            gap: 15px;
            height: 200px;
            margin-top: 20px;
            padding-bottom: 30px;
            border-bottom: 2px solid #f0f2f5;
            position: relative;
        }

        .barra {
            flex: 1;
            background: linear-gradient(to top, var(--primaria), var(--secundaria));
            border-radius: 8px 8px 0 0;
            position: relative;
            min-height: 20px;
            transition: height 0.5s ease;
        }

        .barra-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            color: #666;
            font-weight: 600;
        }

        .barra-valor {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            font-weight: 700;
            color: var(--primaria);
        }

        .legenda-container {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .legenda-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .legenda-cor {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        /* --- DISTRIBUI√á√ÉO DETALHADA --- */
        .distribuicao-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-top: 40px;
        }

        .distribuicao-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border-left: 5px solid;
            box-shadow: var(--sombra-leve);
        }

        .distribuicao-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .distribuicao-titulo {
            font-size: 16px;
            font-weight: 700;
            color: var(--primaria);
        }

        .distribuicao-porcentagem {
            font-size: 24px;
            font-weight: 800;
        }

        .distribuicao-valor {
            font-size: 18px;
            color: #666;
            margin: 10px 0;
        }

        .distribuicao-lista {
            list-style: none;
            padding: 0;
            margin: 15px 0 0 0;
        }

        .distribuicao-lista li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f2f5;
            font-size: 13.5px;
            color: #555;
            display: flex;
            justify-content: space-between;
        }

        .distribuicao-lista li:last-child {
            border-bottom: none;
        }

        /* --- CHECKBOX E BOT√ïES --- */
        .termos-container {
            grid-column: span 2;
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(to right, #f9fafb, #f5f7fa);
            border-radius: 16px;
            border: 1px solid #edf2f7;
            display: flex;
            gap: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            align-items: flex-start;
        }

        .termos-container:hover {
            background: linear-gradient(to right, #f1f4f8, #ecf0f5);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 33, 87, 0.05);
        }

        .termos-container input {
            width: 24px;
            height: 24px;
            cursor: pointer;
            margin-top: 2px;
            border-radius: 6px;
            border: 2px solid #d1d9e0;
            transition: all 0.3s;
        }

        .termos-container input:checked {
            background-color: var(--destaque);
            border-color: var(--destaque);
            position: relative;
        }

        .termos-container input:checked::after {
            content: '‚úì';
            position: absolute;
            color: white;
            font-size: 16px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .termos-texto {
            flex: 1;
            font-size: 14.5px;
            line-height: 1.6;
            color: #444;
        }

        .footer-actions {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #f0f2f5;
            display: flex;
            justify-content: flex-end;
            gap: 25px;
            position: relative;
        }

        .footer-actions::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, var(--destaque), transparent);
        }

        .btn {
            padding: 18px 40px;
            border-radius: 16px;
            font-weight: 800;
            cursor: pointer;
            border: none;
            font-size: 14.5px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 14px;
            min-width: 200px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primaria), var(--secundaria));
            color: white;
            box-shadow: 0 8px 20px rgba(0, 33, 87, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 33, 87, 0.4);
            filter: brightness(1.15);
        }

        .btn-ghost {
            background: #f0f2f5;
            color: #555;
            border: 2px solid #e0e5eb;
        }

        .btn-ghost:hover {
            background: #e4e7eb;
            color: #222;
            border-color: #d1d9e0;
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }

        .btn-danger {
            background: linear-gradient(135deg, #c62828, #d32f2f);
            color: white;
            box-shadow: 0 8px 20px rgba(198, 40, 40, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(198, 40, 40, 0.4);
            filter: brightness(1.15);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            color: white;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* --- LOADER --- */
        .loader {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-bottom-color: white;
            border-radius: 50%;
            display: inline-block;
            animation: rotation 0.8s linear infinite;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .overlay-processamento {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.92);
            border-radius: 24px;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            backdrop-filter: blur(8px);
            animation: fadeInOverlay 0.3s ease;
        }

        @keyframes fadeInOverlay {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .overlay-processamento .loader {
            display: block;
            border-color: var(--primaria);
            border-bottom-color: transparent;
            width: 50px;
            height: 50px;
            border-width: 4px;
            margin-bottom: 20px;
        }

        .overlay-texto {
            margin-top: 20px;
            font-weight: 800;
            color: var(--primaria);
            font-size: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
            max-width: 300px;
            line-height: 1.5;
        }

        /* --- FOOTER SIDEBAR --- */
        .sidebar-footer {
            padding: 30px 25px;
            font-size: 11.5px;
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            letter-spacing: 0.8px;
            line-height: 1.6;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
        }

        /* --- EFEITO DE FOCO NOS CAMPOS --- */
        .field-group:focus-within label {
            color: var(--primaria);
        }

        .field-group:focus-within label::before {
            color: var(--primaria);
            transform: scale(1.3);
            transition: transform 0.2s;
        }

        /* --- CAMPOS OBRIGAT√ìRIOS --- */
        .required::after {
            content: ' *';
            color: var(--erro);
            font-weight: bold;
        }

        /* --- REGRAS DO SISTEMA --- */
        .regras-container {
            grid-column: span 2;
            background: #f8f9fa;
            border-radius: 16px;
            padding: 25px;
            margin-top: 30px;
            border-left: 5px solid var(--primaria);
        }

        .regras-container h3 {
            color: var(--primaria);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .regras-container h3::before {
            content: '‚öñÔ∏è';
            font-size: 18px;
        }

        .regras-lista {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .regras-lista li {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 13.5px;
            color: #555;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .regras-lista li:last-child {
            border-bottom: none;
        }

        .regras-lista li::before {
            content: '‚Ä¢';
            color: var(--destaque);
            font-weight: bold;
            flex-shrink: 0;
        }

        /* --- TAGS PARA DEN√öNCIA --- */
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .tag-option {
            background: #f0f2f5;
            border: 2px solid #e0e5eb;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tag-option:hover {
            background: #e4e7eb;
        }

        .tag-option.selected {
            background: var(--primaria);
            color: white;
            border-color: var(--primaria);
        }

        /* --- PRIORIDADE --- */
        .prioridade-container {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .prioridade-option {
            flex: 1;
            text-align: center;
            padding: 12px;
            border: 2px solid #e0e5eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .prioridade-option:hover {
            background: #f8f9fa;
        }

        .prioridade-option.selected {
            border-color: var(--erro);
            background: #fff5f5;
        }

        .prioridade-option.media.selected {
            border-color: var(--alerta);
            background: #fff9e6;
        }

        .prioridade-option.baixa.selected {
            border-color: var(--sucesso);
            background: #f0f9f0;
        }

        /* --- TABELA DE SOLICITA√á√ïES --- */
        .filtros-container {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .filtros-container select,
        .filtros-container input {
            padding: 12px 20px;
            border: 2px solid #e8ecef;
            border-radius: 12px;
            font-size: 14px;
            min-width: 200px;
        }

        .solicitacoes-table {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--sombra-leve);
            margin-top: 20px;
        }

        .solicitacoes-header {
            display: grid;
            grid-template-columns: 100px 100px 1fr 120px 120px 150px 100px;
            background: linear-gradient(135deg, var(--primaria), var(--secundaria));
            color: white;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .solicitacoes-header div {
            padding: 15px 10px;
        }

        .solicitacao-item {
            display: grid;
            grid-template-columns: 100px 100px 1fr 120px 120px 150px 100px;
            border-bottom: 1px solid #e8ecef;
            transition: background 0.3s;
            align-items: center;
        }

        .solicitacao-item:hover {
            background: #f8f9fa;
        }

        .solicitacao-item div {
            padding: 15px 10px;
            font-size: 14px;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            display: inline-block;
        }

        .status-pendente {
            background: #fff3cd;
            color: #856404;
        }

        .status-concluido {
            background: #d4edda;
            color: #155724;
        }

        .tipo-badge {
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            display: inline-block;
        }

        .tipo-IRPF {
            background: var(--primaria);
            color: white;
        }

        .tipo-CNPJ {
            background: var(--secundaria);
            color: white;
        }

        .tipo-Den√∫ncia {
            background: #dc3545;
            color: white;
        }

        .tipo-Manifesto {
            background: #17a2b8;
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            transform: translateY(-2px);
        }

        .btn-concluir {
            background: var(--sucesso);
            color: white;
        }

        .btn-excluir {
            background: var(--erro);
            color: white;
        }

        .btn-visualizar {
            background: var(--primaria);
            color: white;
        }

        /* --- MODAL DETALHES --- */
        .modal-detalhes {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .modal-detalhes.active {
            display: flex;
        }

        .modal-detalhes-content {
            background: white;
            border-radius: 24px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            box-shadow: var(--sombra-forte);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: var(--erro);
        }

        .detalhes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .detalhes-item {
            font-size: 14px;
        }

        .detalhes-item strong {
            color: #666;
            display: block;
            margin-bottom: 5px;
        }

        .detalhes-item span {
            color: #333;
            font-weight: 500;
        }

        .detalhes-full {
            grid-column: span 2;
        }

        .stats-admin {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .stat-admin-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--sombra-leve);
        }

        .stat-admin-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primaria);
        }

        .stat-admin-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .em-desenvolvimento {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 16px;
            color: #666;
        }

        .em-desenvolvimento h3 {
            color: var(--primaria);
            font-size: 24px;
            margin-bottom: 15px;
        }

        .em-desenvolvimento p {
            font-size: 16px;
            margin-bottom: 20px;
        }

        .em-desenvolvimento .data-prevista {
            background: var(--destaque);
            color: white;
            padding: 8px 20px;
            border-radius: 30px;
            display: inline-block;
            font-weight: 600;
        }
    </style>
</head>
<body>

    <img src="https://normasinternet2.receita.fazenda.gov.br/assets/img/logo-rfb.png" class="watermark-rfb" alt="Logo Receita Federal Fundo">

    <!-- MODAL DE LOGIN -->
    <div class="modal-overlay" id="modalLogin">
        <div class="modal-login">
            <div class="modal-close" onclick="fecharModalLogin()">√ó</div>
            <h2>üîê Acesso Restrito</h2>
            <p>√Årea administrativa do SIAF - Marcone RP</p>
            
            <div class="login-field">
                <label>Usu√°rio</label>
                <input type="text" id="loginUsuario" placeholder="Digite seu usu√°rio">
            </div>
            
            <div class="login-field">
                <label>Senha</label>
                <input type="password" id="loginSenha" placeholder="Digite sua senha">
            </div>
            
            <button class="modal-login-btn" onclick="fazerLogin()">ENTRAR NO PAINEL</button>
            
            <div class="login-error" id="loginError">
                Acesso negado! Usu√°rio ou senha incorretos.
            </div>
        </div>
    </div>

    <!-- MODAL DETALHES DA SOLICITA√á√ÉO -->
    <div class="modal-detalhes" id="modalDetalhes">
        <div class="modal-detalhes-content">
            <div class="modal-close" onclick="fecharModalDetalhes()">√ó</div>
            <div id="detalhesConteudo"></div>
        </div>
    </div>

    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="https://i.imgur.com/wJKy1zC.png" alt="Marcone Logo">
        </div>
        <nav class="nav-group">
            <div class="nav-item active" onclick="trocarAba(this, 'aba-declaracao')">üìã Nova Declara√ß√£o IRPF</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-cnpj')">üè¢ Abertura de CNPJ</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-manifesto')">üöõ Manifesto de Carga</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-denuncia')">üö® Den√∫ncia An√¥nima</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-transparencia')">üìä Transpar√™ncia Fiscal</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-minhas')">üìÅ Minhas Declara√ß√µes</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-pendencias')">‚öñÔ∏è Pend√™ncias Fiscais</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-cadastro')">üë§ Cadastro Municipal</div>
            <div class="nav-item" onclick="trocarAba(this, 'aba-certidao')">üìÑ Gerar Certid√£o Negativa</div>
            <!-- Item administrativo (vis√≠vel apenas para admin) -->
            <div class="nav-item" id="adminPanelBtn" onclick="trocarAba(this, 'aba-admin')" style="display: none; background: rgba(197, 160, 89, 0.2); border-left-color: var(--destaque);">üëë Painel Administrativo</div>
        </nav>
        <div class="sidebar-footer">
            ¬© 2025 MARCONE ROLEPLAY <br> 
            <span style="opacity: 0.8; font-weight: 600;">GOVERNO FEDERAL</span><br>
            <span style="font-size: 10px; opacity: 0.6;">Sistema Integrado de Assuntos Fiscais</span>
        </div>
    </aside>

    <div class="main-wrapper">
        <header class="top-bar">
            <div class="logo-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Gov.br_logo.svg/2560px-Gov.br_logo.svg.png" height="42" alt="Gov.br">
                <img src="https://normasinternet2.receita.fazenda.gov.br/assets/img/logo-rfb.png" height="52" style="filter: brightness(0) saturate(100%) invert(10%) sepia(50%) saturate(3000%) hue-rotate(200deg);" alt="Receita Federal">
            </div>
            
            <!-- √ÅREA DE LOGIN NO TOPO -->
            <div id="loginTopArea">
                <button class="login-top-btn" onclick="abrirModalLogin()">
                    <span>üîê</span> √ÅREA RESTRITA
                </button>
            </div>
            
            <!-- √ÅREA DO USU√ÅRIO LOGADO (INICIALMENTE ESCONDIDA) -->
            <div id="userTopArea" style="display: none;">
                <div class="user-info-top">
                    <div class="user-avatar">üëë</div>
                    <div class="user-name-top" id="userNameTop">ReceitaADM</div>
                    <button class="logout-top-btn" onclick="fazerLogout()">SAIR</button>
                </div>
            </div>
        </header>

        <div class="system-status">
            <div class="status-dot"></div> 
            <span>Conex√£o Criptografada via SSL-RF</span>
        </div>

        <!-- ABA DECLARA√á√ÉO IRPF -->
        <main id="aba-declaracao" class="content-area active">
            <div class="page-title">
                <h1>Declara√ß√£o de Imposto de Renda</h1>
                <p>Sistema de Apura√ß√£o Patrimonial ‚Äî Marcone Roleplay</p>
            </div>

            <section class="form-card" id="cardDeclaracao">
                <div class="overlay-processamento" id="overlayFisco">
                    <div class="loader"></div>
                    <div class="overlay-texto">Validando informa√ß√µes junto √† base de dados de Marcone...</div>
                </div>

                <form class="form-grid" id="formFiscal" onsubmit="return validarDeclaracao(event)">
                    <div class="section-label">Identifica√ß√£o B√°sica</div>
                    <div class="field-group">
                        <label class="required">Nome do Cidad√£o</label>
                        <input type="text" id="nomeCidadao" placeholder="Nome Completo" required>
                        <div class="error-message" id="errorNome">Nome completo √© obrigat√≥rio</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Registro Geral (RG)</label>
                        <input type="text" id="rgCidadao" placeholder="00.000.000-0" required>
                        <div class="error-message" id="errorRG">Informe seu RG</div>
                    </div>
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Ocupa√ß√£o no Servidor</label>
                        <input type="text" id="ocupacao" placeholder="Ex: Diretor de Empresa, Policial, M√©dico..." required>
                        <div class="error-message" id="errorOcupacao">Informe sua ocupa√ß√£o</div>
                    </div>

                    <div class="section-label">Patrim√¥nio e Rendimentos</div>
                    <div class="field-group">
                        <label class="required">Sal√°rio / Renda Mensal (R$)</label>
                        <input type="number" id="rendaMensal" placeholder="Digite o valor" required min="0" step="0.01">
                        <div class="error-message" id="errorRenda">Informe um valor v√°lido</div>
                    </div>
                    <div class="field-group">
                        <label>Frota de Ve√≠culos (Qtd)</label>
                        <input type="number" id="frotaVeiculos" value="0" min="0">
                    </div>
                    <div class="field-group">
                        <label>Aeronaves</label>
                        <select id="aeronaves" required>
                            <option value="">Selecione uma op√ß√£o</option>
                            <option value="N√£o Possuo">N√£o Possuo</option>
                            <option value="Sim">Sim (Homologada ANAC-RP)</option>
                        </select>
                        <div class="error-message" id="errorAeronaves">Selecione uma op√ß√£o</div>
                    </div>
                    <div class="field-group">
                        <label>Embarca√ß√µes</label>
                        <select id="embarcacoes" required>
                            <option value="">Selecione uma op√ß√£o</option>
                            <option value="N√£o Possuo">N√£o Possuo</option>
                            <option value="Sim">Sim (Registrada Marinha-RP)</option>
                        </select>
                        <div class="error-message" id="errorEmbarcacoes">Selecione uma op√ß√£o</div>
                    </div>

                    <div class="regras-container">
                        <h3>Regras para Declara√ß√£o</h3>
                        <ul class="regras-lista">
                            <li>Todos os campos marcados com * s√£o obrigat√≥rios</li>
                            <li>Informa√ß√µes falsas podem gerar multas de at√© R$ 50.000,00</li>
                            <li>Declara√ß√£o deve ser atualizada a cada 6 meses</li>
                            <li>Valores devem ser informados em Reais (R$)</li>
                            <li>O sistema registra automaticamente a data e hora do envio</li>
                        </ul>
                    </div>

                    <label class="termos-container">
                        <input type="checkbox" id="checkVeracidade" required>
                        <span class="termos-texto">Declaro, sob as penas da lei, que as informa√ß√µes aqui prestadas s√£o verdadeiras e condizentes com meu patrim√¥nio no munic√≠pio de Marcone.</span>
                    </label>
                    <div class="error-message" id="errorTermos" style="grid-column: span 2;">Voc√™ deve aceitar os termos para continuar</div>

                    <div class="form-message" id="messageDeclaracao"></div>

                    <div class="footer-actions" style="grid-column: span 2;">
                        <button type="reset" class="btn btn-ghost" onclick="limparErros()">Limpar Campos</button>
                        <button type="submit" class="btn btn-primary" id="btnTransmitir">
                            <span id="labelBotao">Transmitir Dados</span>
                            <div class="loader" id="loaderBotao"></div>
                        </button>
                    </div>
                </form>
            </section>
        </main>

        <!-- ABA CNPJ -->
        <main id="aba-cnpj" class="content-area">
            <div class="page-title">
                <h1>Solicita√ß√£o de Abertura de CNPJ</h1>
                <p>Formaliza√ß√£o de Atividade Econ√¥mica ‚Äî Marcone Roleplay</p>
            </div>

            <section class="form-card" id="cardCNPJ">
                <div class="overlay-processamento" id="overlayCNPJ">
                    <div class="loader"></div>
                    <div class="overlay-texto">Processando solicita√ß√£o de CNPJ...</div>
                </div>

                <form class="form-grid" id="formCNPJ" onsubmit="return validarCNPJ(event)">
                    <div class="section-label">Dados do Solicitante</div>
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Nome Completo</label>
                        <input type="text" id="nomeSolicitante" placeholder="Respons√°vel Legal" required>
                        <div class="error-message" id="errorSolicitante">Nome √© obrigat√≥rio</div>
                    </div>
                    <div class="field-group">
                        <label class="required">RG</label>
                        <input type="text" id="rgSolicitante" placeholder="00.000.000-0" required>
                        <div class="error-message" id="errorRGSolicitante">RG √© obrigat√≥rio</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Contato</label>
                        <input type="text" id="contatoSolicitante" placeholder="(00) 00000-0000" required>
                        <div class="error-message" id="errorContato">Informe um contato</div>
                    </div>
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Nome da Empresa</label>
                        <input type="text" id="nomeEmpresa" placeholder="Raz√£o Social / Nome Fantasia" required>
                        <div class="error-message" id="errorEmpresa">Nome da empresa √© obrigat√≥rio</div>
                    </div>
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Endere√ßo</label>
                        <input type="text" id="enderecoEmpresa" placeholder="Localiza√ß√£o do Estabelecimento" required>
                        <div class="error-message" id="errorEndereco">Endere√ßo √© obrigat√≥rio</div>
                    </div>

                    <div class="section-label">Dados da Empresa</div>
                    <div class="field-group">
                        <label class="required">Natureza Jur√≠dica</label>
                        <select id="selectNatureza" onchange="verificarNatureza()" required>
                            <option value="">Selecione uma op√ß√£o</option>
                            <option value="Empresa individual">Empresa individual</option>
                            <option value="Sociedade limitada">Sociedade limitada</option>
                        </select>
                        <div class="error-message" id="errorNatureza">Selecione a natureza jur√≠dica</div>
                    </div>
                    <div class="field-group">
                        <label>Associados</label>
                        <input type="text" id="inputAssociados" placeholder="Nomes dos S√≥cios">
                    </div>
                    <div class="field-group">
                        <label class="required">Porte da Empresa</label>
                        <select id="porteEmpresa" required>
                            <option value="">Selecione</option>
                            <option value="Pequeno">Pequeno</option>
                            <option value="M√©dio">M√©dio</option>
                            <option value="Grande">Grande</option>
                        </select>
                        <div class="error-message" id="errorPorte">Selecione o porte da empresa</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Possui AVCB?</label>
                        <select id="avcb" required>
                            <option value="">Selecione uma op√ß√£o</option>
                            <option value="Sim">Sim</option>
                            <option value="N√£o">N√£o</option>
                        </select>
                        <div class="error-message" id="errorAVCB">Informe se possui AVCB</div>
                    </div>

                    <div class="regras-container">
                        <h3>Regras para Abertura de CNPJ</h3>
                        <ul class="regras-lista">
                            <li>AVCB √© obrigat√≥rio para funcionamento em Marcone</li>
                            <li>Empresas individuais n√£o podem ter s√≥cios</li>
                            <li>Processo leva at√© 72 horas para an√°lise</li>
                            <li>Documenta√ß√£o complementar pode ser solicitada</li>
                            <li>Taxa de registro: R$ 250,00 para empresas m√©dias e grandes</li>
                        </ul>
                    </div>

                    <label class="termos-container">
                        <input type="checkbox" id="checkCienciaAVCB" required>
                        <span class="termos-texto">Estou ciente de que o AVCB √© obrigat√≥rio para o funcionamento em Marcone.</span>
                    </label>
                    <div class="error-message" id="errorTermosCNPJ">Aceite os termos para continuar</div>

                    <div class="form-message" id="messageCNPJ"></div>

                    <div class="footer-actions" style="grid-column: span 2;">
                        <button type="reset" class="btn btn-ghost" onclick="resetarCNPJ(); limparErrosCNPJ()">Limpar Campos</button>
                        <button type="submit" class="btn btn-primary" id="btnEnviarCNPJ">
                            <span id="labelBotaoCNPJ">Enviar Solicita√ß√£o</span>
                            <div class="loader" id="loaderBotaoCNPJ"></div>
                        </button>
                    </div>
                </form>
            </section>
        </main>

        <!-- ABA MANIFESTO -->
        <main id="aba-manifesto" class="content-area">
            <div class="page-title">
                <h1>Documento de Manifesto de Carga</h1>
                <p>Controle de Transporte de Mercadorias ‚Äî Marcone Roleplay</p>
            </div>

            <section class="form-card">
                <form class="form-grid" onsubmit="return validarManifesto(event)">
                    <div class="section-label">Dados da Carga</div>
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Material Transportado</label>
                        <input type="text" id="materialCarga" placeholder="Ex: Cimento, Eletr√¥nicos..." required>
                        <div class="error-message">Informe o material transportado</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Quantidade</label>
                        <input type="text" id="quantidadeCarga" placeholder="Ex: 50 unidades" required>
                        <div class="error-message">Informe a quantidade</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Peso Estimado</label>
                        <input type="text" id="pesoCarga" placeholder="Ex: 500kg" required>
                        <div class="error-message">Informe o peso estimado</div>
                    </div>
                    <div class="section-label">Dados Log√≠sticos</div>
                    <div class="field-group">
                        <label class="required">Ve√≠culo (Modelo)</label>
                        <input type="text" id="modeloVeiculo" placeholder="Ex: Benson" required>
                        <div class="error-message">Informe o modelo do ve√≠culo</div>
                    </div>
                    <div class="field-group">
                        <label class="required">Placa</label>
                        <input type="text" id="placaVeiculo" placeholder="ABC1D23" required>
                        <div class="error-message">Informe a placa do ve√≠culo</div>
                    </div>

                    <div class="regras-container">
                        <h3>Regras para Manifesto de Carga</h3>
                        <ul class="regras-lista">
                            <li>Documento v√°lido por 24 horas ap√≥s emiss√£o</li>
                            <li>Cargas suspeitas ser√£o fiscalizadas</li>
                            <li>Placa deve estar no formato correto</li>
                            <li>Manifesto deve ser impresso e levado no ve√≠culo</li>
                            <li>Multa por transporte irregular: R$ 5.000,00</li>
                        </ul>
                    </div>

                    <div class="form-message" id="messageManifesto"></div>

                    <div class="footer-actions" style="grid-column: span 2;">
                        <button type="submit" class="btn btn-primary">Gerar Documento</button>
                    </div>
                </form>
            </section>
        </main>

        <!-- ABA DEN√öNCIA -->
        <main id="aba-denuncia" class="content-area">
            <div class="page-title">
                <h1>Canal de Den√∫ncia An√¥nima</h1>
                <p>Combate √† Sonega√ß√£o ‚Äî Marcone Roleplay</p>
            </div>
            <section class="form-card">
                <form class="form-grid" onsubmit="return validarDenuncia(event)">
                    <div class="section-label">Identifica√ß√£o do Caso</div>
                    
                    <div class="field-group">
                        <label class="required">Tipo de Irregularidade</label>
                        <select id="tipoIrregularidade" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Sonega√ß√£o Fiscal">Sonega√ß√£o Fiscal</option>
                            <option value="Lavagem de Dinheiro">Lavagem de Dinheiro</option>
                            <option value="Trabalho Informal">Trabalho Informal</option>
                            <option value="Contrabando">Contrabando</option>
                            <option value="Falsifica√ß√£o">Falsifica√ß√£o de Documentos</option>
                            <option value="Corrup√ß√£o">Corrup√ß√£o</option>
                            <option value="Outro">Outro</option>
                        </select>
                        <div class="error-message">Selecione o tipo de irregularidade</div>
                    </div>
                    
                    <div class="field-group">
                        <label class="required">Gravidade</label>
                        <div class="prioridade-container">
                            <div class="prioridade-option baixa" onclick="selecionarPrioridade(this, 'baixa')">
                                <div style="font-weight: bold;">Baixa</div>
                                <div style="font-size: 11px;">Infra√ß√£o leve</div>
                            </div>
                            <div class="prioridade-option media" onclick="selecionarPrioridade(this, 'media')">
                                <div style="font-weight: bold;">M√©dia</div>
                                <div style="font-size: 11px;">Infra√ß√£o moderada</div>
                            </div>
                            <div class="prioridade-option" onclick="selecionarPrioridade(this, 'alta')">
                                <div style="font-weight: bold;">Alta</div>
                                <div style="font-size: 11px;">Infra√ß√£o grave</div>
                            </div>
                        </div>
                        <input type="hidden" id="prioridadeDenuncia" required>
                        <div class="error-message">Selecione a gravidade</div>
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Local da Ocorr√™ncia</label>
                        <input type="text" id="localOcorrencia" placeholder="Endere√ßo ou ponto de refer√™ncia">
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Envolvidos (opcional)</label>
                        <input type="text" id="envolvidos" placeholder="Nomes ou descri√ß√µes das pessoas/empresas">
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Per√≠odo da Irregularidade</label>
                        <div style="display: flex; gap: 15px;">
                            <input type="date" id="dataInicio" style="flex: 1;">
                            <input type="date" id="dataFim" style="flex: 1;">
                        </div>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">Data in√≠cio e fim (opcional)</div>
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Tags Relacionadas</label>
                        <div class="tags-container">
                            <div class="tag-option" onclick="selecionarTag(this)">Sonega√ß√£o</div>
                            <div class="tag-option" onclick="selecionarTag(this)">Documentos Falsos</div>
                            <div class="tag-option" onclick="selecionarTag(this)">Caixa 2</div>
                            <div class="tag-option" onclick="selecionarTag(this)">Com√©rcio Irregular</div>
                            <div class="tag-option" onclick="selecionarTag(this)">Servi√ßo Informal</div>
                            <div class="tag-option" onclick="selecionarTag(this)">Tr√°fico de Influ√™ncia</div>
                        </div>
                        <input type="hidden" id="tagsDenuncia">
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label class="required">Descri√ß√£o Detalhada dos Fatos</label>
                        <textarea id="descricaoDenuncia" placeholder="Forne√ßa detalhes, datas, valores envolvidos, nomes, provas dispon√≠veis..." required minlength="50"></textarea>
                        <div class="error-message">Descreva com detalhes (m√≠nimo 50 caracteres)</div>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">
                            Caracteres: <span id="contadorCaracteres">0</span>/1000
                        </div>
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Evid√™ncias ou Provas (opcional)</label>
                        <textarea id="evidencias" placeholder="Descreva qualquer evid√™ncia dispon√≠vel (fotos, documentos, testemunhas)"></textarea>
                    </div>
                    
                    <div class="field-group" style="grid-column: span 2;">
                        <label>Contato para Esclarecimentos (opcional)</label>
                        <input type="text" id="contatoDenuncia" placeholder="Email ou telefone (mantido em sigilo)">
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">Sua identidade ser√° preservada</div>
                    </div>

                    <div class="regras-container">
                        <h3>Informa√ß√µes sobre Den√∫ncias</h3>
                        <ul class="regras-lista">
                            <li>Den√∫ncias s√£o 100% an√¥nimas</li>
                            <li>Informa√ß√µes falsas podem constituir crime</li>
                            <li>Processo de an√°lise: 5-10 dias √∫teis</li>
                            <li>Den√∫ncias graves s√£o priorizadas</li>
                            <li>Recompensa para den√∫ncias que resultem em recupera√ß√£o fiscal</li>
                            <li>Sigilo absoluto garantido por lei</li>
                        </ul>
                    </div>
                    
                    <label class="termos-container">
                        <input type="checkbox" id="checkVeracidadeDenuncia" required>
                        <span class="termos-texto">Declaro que as informa√ß√µes s√£o verdadeiras e que n√£o estou fazendo den√∫ncia por m√°-f√© ou motiva√ß√£o pessoal.</span>
                    </label>
                    <div class="error-message" id="errorTermosDenuncia">Aceite os termos para enviar a den√∫ncia</div>

                    <div class="form-message" id="messageDenuncia"></div>

                    <div class="footer-actions" style="grid-column: span 2;">
                        <button type="reset" class="btn btn-ghost" onclick="limparDenuncia()">Limpar Formul√°rio</button>
                        <button type="submit" class="btn btn-danger">Enviar Den√∫ncia An√¥nima</button>
                    </div>
                </form>
            </section>
        </main>

        <!-- ABA TRANSPAR√äNCIA FISCAL (FUNCIONANDO) -->
        <main id="aba-transparencia" class="content-area">
            <div class="page-title">
                <h1>Transpar√™ncia Fiscal de Marcone</h1>
                <p>Acompanhamento de Arrecada√ß√£o em Tempo Real</p>
            </div>
            
            <section class="form-card">
                <div class="impostometro-container">
                    <div style="font-size: 15px; color: #888; margin-bottom: 15px; letter-spacing: 2px; text-transform: uppercase;">Total Arrecadado no Ano Fiscal 2025</div>
                    <div class="impostometro-valor" id="impostometro">R$ 1.250.480,00</div>
                    <div style="font-size: 12px; color: #666; margin-top: 15px; letter-spacing: 1px;">
                        Atualizado em tempo real ‚Ä¢ √öltima atualiza√ß√£o: <span id="horaAtualizacao">--:--:--</span>
                    </div>
                </div>

                <div class="section-label">Estat√≠sticas Fiscais Detalhadas</div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">üí∞</div>
                            <div class="stat-title">Arrecada√ß√£o Di√°ria</div>
                        </div>
                        <div class="stat-value" id="arrecadacaoDiaria">R$ 42.580,00</div>
                        <div class="stat-trend trend-up">
                            <span>‚Üë 8.2%</span> vs ontem
                        </div>
                        <div class="stat-detail">
                            M√©dia di√°ria deste m√™s: R$ 38.450,00
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #002157, #003366);">üèõÔ∏è</div>
                            <div class="stat-title">Impostos Recolhidos</div>
                        </div>
                        <div class="stat-value" id="impostosRecolhidos">15.842</div>
                        <div class="stat-trend trend-neutral">
                            <span>‚Üí 0.5%</span> vs m√™s anterior
                        </div>
                        <div class="stat-detail">
                            Declara√ß√µes processadas este m√™s
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">üìä</div>
                            <div class="stat-title">Taxa de Conformidade</div>
                        </div>
                        <div class="stat-value" id="taxaConformidade">94,7%</div>
                        <div class="stat-trend trend-up">
                            <span>‚Üë 2.1%</span> vs trimestre anterior
                        </div>
                        <div class="stat-detail">
                            5.3% de pend√™ncias em an√°lise
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #c62828);">‚öñÔ∏è</div>
                            <div class="stat-title">Multas Aplicadas</div>
                        </div>
                        <div class="stat-value" id="multasAplicadas">R$ 125.300,00</div>
                        <div class="stat-trend trend-down">
                            <span>‚Üì 15.3%</span> vs m√™s anterior
                        </div>
                        <div class="stat-detail">
                            Redu√ß√£o de infra√ß√µes fiscais
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #6f42c1, #9c27b0);">üè¢</div>
                            <div class="stat-title">Novos CNPJs</div>
                        </div>
                        <div class="stat-value" id="novosCnpjs">247</div>
                        <div class="stat-trend trend-up">
                            <span>‚Üë 12.5%</span> vs trimestre
                        </div>
                        <div class="stat-detail">
                            Empresas formalizadas este ano
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: linear-gradient(135deg, #17a2b8, #0dcaf0);">üö®</div>
                            <div class="stat-title">Den√∫ncias Processadas</div>
                        </div>
                        <div class="stat-value" id="denunciasProcessadas">1.842</div>
                        <div class="stat-trend trend-up">
                            <span>‚Üë 5.8%</span> vs ano anterior
                        </div>
                        <div class="stat-detail">
                            78% resultaram em a√ß√µes fiscais
                        </div>
                    </div>
                </div>

                <div class="grafico-container">
                    <div style="font-size: 16px; font-weight: 700; color: var(--primaria); margin-bottom: 10px;">
                        Arrecada√ß√£o Mensal - 2025
                    </div>
                    <div style="font-size: 13px; color: #666; margin-bottom: 20px;">
                        Comparativo mensal de arrecada√ß√£o (em milhares de R$)
                    </div>
                    
                    <div class="grafico-barras">
                        <div class="barra" style="height: 60%;" data-valor="45.8">
                            <div class="barra-valor">45,8K</div>
                            <div class="barra-label">JAN</div>
                        </div>
                        <div class="barra" style="height: 75%;" data-valor="57.2">
                            <div class="barra-valor">57,2K</div>
                            <div class="barra-label">FEV</div>
                        </div>
                        <div class="barra" style="height: 82%;" data-valor="62.5">
                            <div class="barra-valor">62,5K</div>
                            <div class="barra-label">MAR</div>
                        </div>
                        <div class="barra" style="height: 90%;" data-valor="68.7">
                            <div class="barra-valor">68,7K</div>
                            <div class="barra-label">ABR</div>
                        </div>
                        <div class="barra" style="height: 95%;" data-valor="72.4">
                            <div class="barra-valor">72,4K</div>
                            <div class="barra-label">MAI</div>
                        </div>
                        <div class="barra" style="height: 100%;" data-valor="76.2">
                            <div class="barra-valor">76,2K</div>
                            <div class="barra-label">JUN</div>
                        </div>
                    </div>

                    <div class="legenda-container">
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: linear-gradient(to top, var(--primaria), var(--secundaria));"></div>
                            <span>Arrecada√ß√£o Mensal</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #28a745;"></div>
                            <span>Meta Atingida</span>
                        </div>
                        <div class="legenda-item">
                            <div class="legenda-cor" style="background: #ffc107;"></div>
                            <span>Abaixo da Meta</span>
                        </div>
                    </div>
                </div>

                <div class="section-label" style="margin-top: 40px;">Distribui√ß√£o Detalhada dos Recursos Arrecadados</div>
                
                <div class="distribuicao-grid">
                    <div class="distribuicao-card" style="border-color: #28a745;">
                        <div class="distribuicao-header">
                            <div class="distribuicao-titulo">Seguran√ßa P√∫blica</div>
                            <div class="distribuicao-porcentagem" style="color: #28a745;">35%</div>
                        </div>
                        <div class="distribuicao-valor">R$ 437.668,00</div>
                        <ul class="distribuicao-lista">
                            <li><span>Policiamento</span><span>R$ 262.600,80</span></li>
                            <li><span>Equipamentos</span><span>R$ 87.533,60</span></li>
                            <li><span>Treinamento</span><span>R$ 43.766,80</span></li>
                            <li><span>Infraestrutura</span><span>R$ 43.766,80</span></li>
                        </ul>
                    </div>

                    <div class="distribuicao-card" style="border-color: #c5a059;">
                        <div class="distribuicao-header">
                            <div class="distribuicao-titulo">Infraestrutura</div>
                            <div class="distribuicao-porcentagem" style="color: #c5a059;">25%</div>
                        </div>
                        <div class="distribuicao-valor">R$ 312.620,00</div>
                        <ul class="distribuicao-lista">
                            <li><span>Manuten√ß√£o de Vias</span><span>R$ 156.310,00</span></li>
                            <li><span>Ilumina√ß√£o P√∫blica</span><span>R$ 62.524,00</span></li>
                            <li><span>Sinaliza√ß√£o</span><span>R$ 46.893,00</span></li>
                            <li><span>Novos Projetos</span><span>R$ 46.893,00</span></li>
                        </ul>
                    </div>

                    <div class="distribuicao-card" style="border-color: #dc3545;">
                        <div class="distribuicao-header">
                            <div class="distribuicao-titulo">Sa√∫de P√∫blica</div>
                            <div class="distribuicao-porcentagem" style="color: #dc3545;">20%</div>
                        </div>
                        <div class="distribuicao-valor">R$ 250.096,00</div>
                        <ul class="distribuicao-lista">
                            <li><span>Medicamentos</span><span>R$ 100.038,40</span></li>
                            <li><span>Equipamentos</span><span>R$ 75.028,80</span></li>
                            <li><span>Manuten√ß√£o</span><span>R$ 50.019,20</span></li>
                            <li><span>Profissionais</span><span>R$ 25.009,60</span></li>
                        </ul>
                    </div>

                    <div class="distribuicao-card" style="border-color: #17a2b8;">
                        <div class="distribuicao-header">
                            <div class="distribuicao-titulo">Educa√ß√£o</div>
                            <div class="distribuicao-porcentagem" style="color: #17a2b8;">15%</div>
                        </div>
                        <div class="distribuicao-valor">R$ 187.572,00</div>
                        <ul class="distribuicao-lista">
                            <li><span>Material Escolar</span><span>R$ 75.028,80</span></li>
                            <li><span>Merenda</span><span>R$ 56.271,60</span></li>
                            <li><span>Manuten√ß√£o</span><span>R$ 37.514,40</span></li>
                            <li><span>Capacita√ß√£o</span><span>R$ 18.757,20</span></li>
                        </ul>
                    </div>

                    <div class="distribuicao-card" style="border-color: #6f42c1;">
                        <div class="distribuicao-header">
                            <div class="distribuicao-titulo">Administra√ß√£o</div>
                            <div class="distribuicao-porcentagem" style="color: #6f42c1;">5%</div>
                        </div>
                        <div class="distribuicao-valor">R$ 62.524,00</div>
                        <ul class="distribuicao-lista">
                            <li><span>Sal√°rios</span><span>R$ 37.514,40</span></li>
                            <li><span>Tecnologia</span><span>R$ 12.504,80</span></li>
                            <li><span>Manuten√ß√£o</span><span>R$ 6.252,40</span></li>
                            <li><span>Outros</span><span>R$ 6.252,40</span></li>
                        </ul>
                    </div>
                </div>

                <div class="regras-container" style="margin-top: 40px;">
                    <h3>Informa√ß√µes T√©cnicas da Arrecada√ß√£o</h3>
                    <ul class="regras-lista">
                        <li><strong>Per√≠odo Fiscal:</strong> Janeiro a Junho de 2025</li>
                        <li><strong>Meta Anual:</strong> R$ 2.800.000,00 (70% atingida)</li>
                        <li><strong>Crescimento vs 2024:</strong> +18,3% no mesmo per√≠odo</li>
                        <li><strong>Principal Fonte:</strong> Imposto sobre Servi√ßos (42%)</li>
                        <li><strong>Maior Contribuinte:</strong> Setor de Servi√ßos (58%)</li>
                        <li><strong>Efici√™ncia na Cobran√ßa:</strong> 96,2% dos tributos devidos</li>
                        <li><strong>Pr√≥xima Auditoria:</strong> Julho/2025 - Setor Comercial</li>
                    </ul>
                </div>

                <div class="footer-actions" style="margin-top: 30px; justify-content: center;">
                    <button type="button" class="btn btn-ghost" onclick="exportarDados()">
                        üì• Exportar Relat√≥rio Completo
                    </button>
                    <button type="button" class="btn btn-primary" onclick="atualizarEstatisticas()">
                        üîÑ Atualizar Estat√≠sticas
                    </button>
                </div>
            </section>
        </main>

        <!-- ABA MINHAS DECLARA√á√ïES -->
        <main id="aba-minhas" class="content-area">
            <div class="page-title">
                <h1>Minhas Declara√ß√µes</h1>
                <p>Hist√≥rico de declara√ß√µes enviadas</p>
            </div>
            <div class="form-card" id="minhasDeclaracoes">
                <!-- Preenchido via JavaScript -->
            </div>
        </main>

        <!-- ABA PEND√äNCIAS FISCAIS (EM DESENVOLVIMENTO) -->
        <main id="aba-pendencias" class="content-area">
            <div class="page-title">
                <h1>Pend√™ncias Fiscais</h1>
                <p>Regularize sua situa√ß√£o com o fisco</p>
            </div>
            <div class="form-card">
                <div class="em-desenvolvimento">
                    <h3>‚öñÔ∏è M√≥dulo em Desenvolvimento</h3>
                    <p>Estamos definindo as datas para in√≠cio da declara√ß√£o do IRPF 2025.</p>
                    <p>Em breve voc√™ poder√° consultar e regularizar suas pend√™ncias fiscais diretamente aqui.</p>
                    <div class="data-prevista">
                        Previs√£o de lan√ßamento: Abril/2025
                    </div>
                    <p style="margin-top: 30px; font-size: 14px;">Para mais informa√ß√µes, entre em contato com a Receita Federal de Marcone.</p>
                </div>
            </div>
        </main>

        <!-- ABA CADASTRO MUNICIPAL -->
        <main id="aba-cadastro" class="content-area">
            <div class="page-title">
                <h1>Cadastro Municipal</h1>
                <p>Atualize seus dados cadastrais</p>
            </div>
            <div class="form-card">
                <p style="text-align: center; color: #666; padding: 50px;">Funcionalidade em desenvolvimento</p>
            </div>
        </main>

        <!-- ABA CERTID√ÉO NEGATIVA -->
        <main id="aba-certidao" class="content-area">
            <div class="page-title">
                <h1>Gerar Certid√£o Negativa</h1>
                <p>Certid√£o de D√©bitos Municipais</p>
            </div>
            <div class="form-card">
                <p style="text-align: center; color: #666; padding: 50px;">Funcionalidade em desenvolvimento</p>
            </div>
        </main>

        <!-- ABA PAINEL ADMINISTRATIVO (vis√≠vel apenas para admin) -->
        <main id="aba-admin" class="content-area">
            <div class="page-title">
                <h1>üëë Painel Administrativo</h1>
                <p>Gerencie todas as solicita√ß√µes do sistema</p>
            </div>

            <section class="form-card">
                <div class="filtros-container">
                    <select id="filtroTipo" onchange="filtrarSolicitacoes()">
                        <option value="todos">Todos os tipos</option>
                        <option value="IRPF">Declara√ß√£o IRPF</option>
                        <option value="CNPJ">Abertura CNPJ</option>
                        <option value="Den√∫ncia">Den√∫ncias</option>
                        <option value="Manifesto">Manifesto de Carga</option>
                    </select>
                    
                    <select id="filtroStatus" onchange="filtrarSolicitacoes()">
                        <option value="todos">Todos os status</option>
                        <option value="pendente">Pendente</option>
                        <option value="concluido">Conclu√≠do</option>
                    </select>
                    
                    <input type="text" id="filtroBusca" placeholder="Buscar por nome ou protocolo..." onkeyup="filtrarSolicitacoes()">
                </div>

                <!-- Estat√≠sticas r√°pidas -->
                <div class="stats-admin" id="adminStats">
                    <div class="stat-admin-card">
                        <div class="stat-admin-value" id="totalSolicitacoes">0</div>
                        <div class="stat-admin-label">Total de Solicita√ß√µes</div>
                    </div>
                    <div class="stat-admin-card">
                        <div class="stat-admin-value" id="pendentesCount">0</div>
                        <div class="stat-admin-label">Pendentes</div>
                    </div>
                    <div class="stat-admin-card">
                        <div class="stat-admin-value" id="concluidasCount">0</div>
                        <div class="stat-admin-label">Conclu√≠das</div>
                    </div>
                    <div class="stat-admin-card">
                        <div class="stat-admin-value" id="denunciasCount">0</div>
                        <div class="stat-admin-label">Den√∫ncias</div>
                    </div>
                </div>

                <!-- Tabela de solicita√ß√µes -->
                <div class="solicitacoes-table">
                    <div class="solicitacoes-header">
                        <div>Protocolo</div>
                        <div>Tipo</div>
                        <div>Solicitante</div>
                        <div>Data</div>
                        <div>Status</div>
                        <div>Prioridade</div>
                        <div>A√ß√µes</div>
                    </div>
                    <div id="solicitacoesList">
                        <!-- Preenchido via JavaScript -->
                    </div>
                </div>

                <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: flex-end;">
                    <button class="btn btn-success" onclick="exportarRelatorio()">
                        üì• Exportar Relat√≥rio
                    </button>
                </div>
            </section>
        </main>
    </div>

    <audio id="somSucesso" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <script>
        // ===== VARI√ÅVEIS GLOBAIS =====
        let adminLogado = false;
        let todasSolicitacoes = [];
        let prioridadeSelecionada = null;
        let tagsSelecionadas = [];
        let valorArrecadado = 1250480.00;

        // ===== FUN√á√ïES DE LOGIN =====
        function abrirModalLogin() {
            document.getElementById('modalLogin').style.display = 'flex';
            // Limpar campos ao abrir o modal
            document.getElementById('loginUsuario').value = '';
            document.getElementById('loginSenha').value = '';
            document.getElementById('loginError').style.display = 'none';
        }

        function fecharModalLogin() {
            document.getElementById('modalLogin').style.display = 'none';
        }

        function fazerLogin() {
            const usuario = document.getElementById('loginUsuario').value;
            const senha = document.getElementById('loginSenha').value;
            
            // Credenciais seguras
            if (usuario === 'ReceitaADM' && senha === '122000') {
                adminLogado = true;
                
                // Esconde bot√£o de login e mostra √°rea do usu√°rio
                document.getElementById('loginTopArea').style.display = 'none';
                document.getElementById('userTopArea').style.display = 'block';
                document.getElementById('userNameTop').textContent = 'ReceitaADM';
                
                // Mostra item do painel administrativo na sidebar
                document.getElementById('adminPanelBtn').style.display = 'flex';
                
                // Fecha modal
                fecharModalLogin();
                
                // Carrega solicita√ß√µes
                carregarSolicitacoes();
                
                // Mostra mensagem de boas-vindas
                mostrarMensagem('Acesso autorizado ao painel administrativo!', 'success');
            } else {
                document.getElementById('loginError').style.display = 'block';
                // Limpar campos por seguran√ßa
                document.getElementById('loginUsuario').value = '';
                document.getElementById('loginSenha').value = '';
            }
        }

        function fazerLogout() {
            adminLogado = false;
            
            // Mostra bot√£o de login e esconde √°rea do usu√°rio
            document.getElementById('loginTopArea').style.display = 'block';
            document.getElementById('userTopArea').style.display = 'none';
            
            // Esconde item do painel administrativo
            document.getElementById('adminPanelBtn').style.display = 'none';
            
            // Volta para a aba inicial
            const primeiraAba = document.querySelector('.nav-item');
            if (primeiraAba) {
                trocarAba(primeiraAba, 'aba-declaracao');
            }
            
            mostrarMensagem('Logout realizado com sucesso!', 'success');
        }

        // ===== FUN√á√ïES DE SOLICITA√á√ïES =====
        function salvarSolicitacao(tipo, dados) {
            const solicitacoes = JSON.parse(localStorage.getItem('solicitacoes')) || [];
            
            const protocolo = gerarProtocolo(tipo);
            const prioridade = dados.prioridade || 'media';
            
            const novaSolicitacao = {
                id: Date.now(),
                protocolo: protocolo,
                tipo: tipo,
                dados: dados,
                status: 'pendente',
                prioridade: prioridade,
                data: new Date().toLocaleString('pt-BR'),
                dataISO: new Date().toISOString()
            };
            
            solicitacoes.push(novaSolicitacao);
            localStorage.setItem('solicitacoes', JSON.stringify(solicitacoes));
            
            return novaSolicitacao;
        }

        function gerarProtocolo(tipo) {
            const prefixos = {
                'IRPF': 'IR',
                'CNPJ': 'CN',
                'Den√∫ncia': 'DN',
                'Manifesto': 'MF'
            };
            
            const prefixo = prefixos[tipo] || 'SL';
            const ano = new Date().getFullYear();
            const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
            
            return `${prefixo}-${ano}-${random}`;
        }

        function carregarSolicitacoes() {
            todasSolicitacoes = JSON.parse(localStorage.getItem('solicitacoes')) || [];
            atualizarTabelaSolicitacoes();
            atualizarMinhasDeclaracoes();
            atualizarEstatisticasAdmin();
        }

        function atualizarTabelaSolicitacoes() {
            const tipo = document.getElementById('filtroTipo')?.value || 'todos';
            const status = document.getElementById('filtroStatus')?.value || 'todos';
            const busca = document.getElementById('filtroBusca')?.value?.toLowerCase() || '';
            
            let filtradas = todasSolicitacoes;
            
            if (tipo !== 'todos') {
                filtradas = filtradas.filter(s => s.tipo === tipo);
            }
            
            if (status !== 'todos') {
                filtradas = filtradas.filter(s => s.status === status);
            }
            
            if (busca) {
                filtradas = filtradas.filter(s => 
                    (s.protocolo && s.protocolo.toLowerCase().includes(busca)) ||
                    (s.dados?.nome && s.dados.nome.toLowerCase().includes(busca)) ||
                    (s.dados?.solicitante && s.dados.solicitante.toLowerCase().includes(busca))
                );
            }
            
            const listElement = document.getElementById('solicitacoesList');
            if (!listElement) return;
            
            if (filtradas.length === 0) {
                listElement.innerHTML = '<div style="text-align: center; padding: 40px; color: #666; grid-column: span 7;">Nenhuma solicita√ß√£o encontrada</div>';
                return;
            }
            
            listElement.innerHTML = filtradas.map(s => {
                const nomeSolicitante = s.dados?.nome || s.dados?.solicitante || s.dados?.materialCarga || '-';
                const prioridadeCor = s.prioridade === 'alta' ? '#dc3545' : (s.prioridade === 'baixa' ? '#28a745' : '#ffc107');
                
                return `
                <div class="solicitacao-item">
                    <div><strong>${s.protocolo}</strong></div>
                    <div><span class="tipo-badge tipo-${s.tipo}">${s.tipo}</span></div>
                    <div>${nomeSolicitante}</div>
                    <div>${s.data}</div>
                    <div><span class="status-badge status-${s.status}">${s.status === 'pendente' ? '‚è≥ Pendente' : '‚úÖ Conclu√≠do'}</span></div>
                    <div><span style="color: ${prioridadeCor}; font-weight: 600;">${s.prioridade ? s.prioridade.toUpperCase() : 'M√âDIA'}</span></div>
                    <div class="action-buttons">
                        <button class="action-btn btn-visualizar" onclick="visualizarSolicitacao(${s.id})">üëÅÔ∏è Ver</button>
                        ${s.status === 'pendente' ? 
                            `<button class="action-btn btn-concluir" onclick="concluirSolicitacao(${s.id})">‚úÖ Concluir</button>` : 
                            ''}
                        <button class="action-btn btn-excluir" onclick="excluirSolicitacao(${s.id})">üóëÔ∏è Excluir</button>
                    </div>
                </div>
            `}).join('');
        }

        function atualizarMinhasDeclaracoes() {
            // Mostra todas as solicita√ß√µes (simulando minhas declara√ß√µes)
            const minhas = todasSolicitacoes.slice().reverse();
            const container = document.getElementById('minhasDeclaracoes');
            
            if (!container) return;
            
            if (minhas.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">Nenhuma declara√ß√£o encontrada</p>';
                return;
            }
            
            let html = '<div style="overflow-x: auto;">';
            html += '<table style="width: 100%; border-collapse: collapse;">';
            html += '<tr style="background: #f8f9fa; font-weight: 700;">';
            html += '<th style="padding: 15px; text-align: left;">Protocolo</th>';
            html += '<th style="padding: 15px; text-align: left;">Tipo</th>';
            html += '<th style="padding: 15px; text-align: left;">Data</th>';
            html += '<th style="padding: 15px; text-align: left;">Status</th>';
            html += '<th style="padding: 15px; text-align: left;">A√ß√µes</th>';
            html += '</tr>';
            
            minhas.forEach(s => {
                html += '<tr style="border-bottom: 1px solid #e8ecef;">';
                html += `<td style="padding: 15px;"><strong>${s.protocolo}</strong></td>`;
                html += `<td style="padding: 15px;">${s.tipo}</td>`;
                html += `<td style="padding: 15px;">${s.data}</td>`;
                html += `<td style="padding: 15px;"><span class="status-badge status-${s.status}">${s.status}</span></td>`;
                html += `<td style="padding: 15px;"><button class="btn btn-ghost" style="padding: 8px 15px;" onclick="visualizarSolicitacao(${s.id})">Ver detalhes</button></td>`;
                html += '</tr>';
            });
            
            html += '</table></div>';
            container.innerHTML = html;
        }

        function atualizarEstatisticasAdmin() {
            document.getElementById('totalSolicitacoes').textContent = todasSolicitacoes.length;
            document.getElementById('pendentesCount').textContent = todasSolicitacoes.filter(s => s.status === 'pendente').length;
            document.getElementById('concluidasCount').textContent = todasSolicitacoes.filter(s => s.status === 'concluido').length;
            document.getElementById('denunciasCount').textContent = todasSolicitacoes.filter(s => s.tipo === 'Den√∫ncia').length;
        }

        function filtrarSolicitacoes() {
            atualizarTabelaSolicitacoes();
        }

        function concluirSolicitacao(id) {
            if (confirm('Deseja marcar esta solicita√ß√£o como conclu√≠da?')) {
                const solicitacoes = JSON.parse(localStorage.getItem('solicitacoes')) || [];
                const index = solicitacoes.findIndex(s => s.id === id);
                
                if (index !== -1) {
                    solicitacoes[index].status = 'concluido';
                    localStorage.setItem('solicitacoes', JSON.stringify(solicitacoes));
                    carregarSolicitacoes();
                    mostrarMensagem('Solicita√ß√£o conclu√≠da com sucesso!', 'success');
                }
            }
        }

        function excluirSolicitacao(id) {
            if (confirm('Tem certeza que deseja excluir esta solicita√ß√£o permanentemente?')) {
                const solicitacoes = JSON.parse(localStorage.getItem('solicitacoes')) || [];
                const novasSolicitacoes = solicitacoes.filter(s => s.id !== id);
                localStorage.setItem('solicitacoes', JSON.stringify(novasSolicitacoes));
                carregarSolicitacoes();
                mostrarMensagem('Solicita√ß√£o exclu√≠da com sucesso!', 'success');
            }
        }

        function visualizarSolicitacao(id) {
            const s = todasSolicitacoes.find(s => s.id === id);
            if (!s) return;
            
            let html = `
                <h2 style="color: var(--primaria); margin-bottom: 20px;">Detalhes da Solicita√ß√£o</h2>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <p><strong>Protocolo:</strong> ${s.protocolo}</p>
                    <p><strong>Tipo:</strong> ${s.tipo}</p>
                    <p><strong>Data:</strong> ${s.data}</p>
                    <p><strong>Status:</strong> <span class="status-badge status-${s.status}">${s.status}</span></p>
                    <p><strong>Prioridade:</strong> ${s.prioridade || 'N/A'}</p>
                </div>
                <h3 style="color: var(--primaria); margin: 20px 0 10px;">Dados Enviados</h3>
                <div class="detalhes-grid">
            `;
            
            // Adiciona os dados espec√≠ficos de cada tipo
            if (s.dados) {
                for (let [key, value] of Object.entries(s.dados)) {
                    if (value && value !== '') {
                        const keyFormatada = key.charAt(0).toUpperCase() + key.slice(1);
                        html += `
                            <div class="detalhes-item">
                                <strong>${keyFormatada}:</strong>
                                <span>${value}</span>
                            </div>
                        `;
                    }
                }
            }
            
            html += '</div>';
            
            if (s.status === 'pendente' && adminLogado) {
                html += `
                    <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: flex-end;">
                        <button class="btn btn-success" onclick="concluirSolicitacao(${s.id}); fecharModalDetalhes()">‚úÖ Concluir</button>
                        <button class="btn btn-danger" onclick="excluirSolicitacao(${s.id}); fecharModalDetalhes()">üóëÔ∏è Excluir</button>
                    </div>
                `;
            }
            
            document.getElementById('detalhesConteudo').innerHTML = html;
            document.getElementById('modalDetalhes').classList.add('active');
        }

        function fecharModalDetalhes() {
            document.getElementById('modalDetalhes').classList.remove('active');
        }

        function exportarRelatorio() {
            let csv = 'Protocolo,Tipo,Solicitante,Data,Status,Prioridade\n';
            
            todasSolicitacoes.forEach(s => {
                const nome = s.dados?.nome || s.dados?.solicitante || s.dados?.materialCarga || '-';
                csv += `"${s.protocolo}","${s.tipo}","${nome}","${s.data}","${s.status}","${s.prioridade || 'media'}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `relatorio_siaf_${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            mostrarMensagem('Relat√≥rio exportado com sucesso!', 'success');
        }

        // ===== FUN√á√ïES DE VALIDA√á√ÉO DOS FORMUL√ÅRIOS =====
        function mostrarErro(elemento, mensagem) {
            elemento.classList.add('input-error');
            const errorDiv = elemento.parentElement.querySelector('.error-message');
            if (errorDiv) {
                errorDiv.textContent = mensagem;
                errorDiv.style.display = 'flex';
            }
        }

        function limparErro(elemento) {
            elemento.classList.remove('input-error');
            const errorDiv = elemento.parentElement.querySelector('.error-message');
            if (errorDiv) errorDiv.style.display = 'none';
        }

        function limparErros() {
            document.querySelectorAll('.input-error').forEach(el => el.classList.remove('input-error'));
            document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.form-message').forEach(el => el.style.display = 'none');
        }

        function limparErrosCNPJ() {
            const form = document.getElementById('formCNPJ');
            form.querySelectorAll('.input-error').forEach(el => el.classList.remove('input-error'));
            form.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
            const message = document.getElementById('messageCNPJ');
            if (message) message.style.display = 'none';
        }

        function mostrarMensagem(texto, tipo) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `form-message ${tipo}`;
            messageDiv.textContent = texto;
            messageDiv.style.position = 'fixed';
            messageDiv.style.top = '20px';
            messageDiv.style.right = '20px';
            messageDiv.style.zIndex = '10001';
            messageDiv.style.maxWidth = '300px';
            messageDiv.style.animation = 'slideIn 0.3s ease';
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => messageDiv.remove(), 300);
            }, 3000);
        }

        // Valida√ß√£o Declara√ß√£o IRPF
        function validarDeclaracao(event) {
            event.preventDefault();
            limparErros();
            
            let isValid = true;
            
            const camposObrigatorios = [
                { id: 'nomeCidadao', nome: 'Nome' },
                { id: 'rgCidadao', nome: 'RG' },
                { id: 'ocupacao', nome: 'Ocupa√ß√£o' },
                { id: 'rendaMensal', nome: 'Renda' },
                { id: 'aeronaves', nome: 'Aeronaves' },
                { id: 'embarcacoes', nome: 'Embarca√ß√µes' }
            ];
            
            camposObrigatorios.forEach(campo => {
                const elemento = document.getElementById(campo.id);
                if (!elemento.value || elemento.value.trim() === '') {
                    mostrarErro(elemento, `${campo.nome} √© obrigat√≥rio`);
                    isValid = false;
                }
            });
            
            const checkTermos = document.getElementById('checkVeracidade');
            if (!checkTermos.checked) {
                const errorTermos = document.getElementById('errorTermos');
                errorTermos.style.display = 'flex';
                isValid = false;
            }
            
            if (isValid) {
                const overlay = document.getElementById('overlayFisco');
                overlay.style.display = 'flex';
                
                setTimeout(() => {
                    const dados = {
                        nome: document.getElementById('nomeCidadao').value,
                        rg: document.getElementById('rgCidadao').value,
                        ocupacao: document.getElementById('ocupacao').value,
                        renda: document.getElementById('rendaMensal').value,
                        veiculos: document.getElementById('frotaVeiculos').value || '0',
                        aeronaves: document.getElementById('aeronaves').value,
                        embarcacoes: document.getElementById('embarcacoes').value
                    };
                    
                    const solicitacao = salvarSolicitacao('IRPF', dados);
                    
                    overlay.style.display = 'none';
                    
                    const msg = document.getElementById('messageDeclaracao');
                    msg.className = 'form-message success';
                    msg.innerHTML = `‚úÖ Declara√ß√£o enviada! Protocolo: ${solicitacao.protocolo}`;
                    
                    document.getElementById('somSucesso').play();
                    
                    // Limpa o formul√°rio
                    document.getElementById('formFiscal').reset();
                    
                    mostrarMensagem('Declara√ß√£o transmitida com sucesso!', 'success');
                }, 2000);
            }
            
            return false;
        }

        // Valida√ß√£o CNPJ
        function validarCNPJ(event) {
            event.preventDefault();
            limparErrosCNPJ();
            
            let isValid = true;
            
            const camposObrigatorios = [
                { id: 'nomeSolicitante', nome: 'Nome do solicitante' },
                { id: 'rgSolicitante', nome: 'RG' },
                { id: 'contatoSolicitante', nome: 'Contato' },
                { id: 'nomeEmpresa', nome: 'Nome da empresa' },
                { id: 'enderecoEmpresa', nome: 'Endere√ßo' },
                { id: 'selectNatureza', nome: 'Natureza jur√≠dica' },
                { id: 'porteEmpresa', nome: 'Porte da empresa' },
                { id: 'avcb', nome: 'AVCB' }
            ];
            
            camposObrigatorios.forEach(campo => {
                const elemento = document.getElementById(campo.id);
                if (!elemento.value || elemento.value.trim() === '') {
                    mostrarErro(elemento, `${campo.nome} √© obrigat√≥rio`);
                    isValid = false;
                }
            });
            
            const checkTermos = document.getElementById('checkCienciaAVCB');
            if (!checkTermos.checked) {
                const errorTermos = document.getElementById('errorTermosCNPJ');
                errorTermos.style.display = 'flex';
                isValid = false;
            }
            
            if (isValid) {
                const overlay = document.getElementById('overlayCNPJ');
                overlay.style.display = 'flex';
                
                setTimeout(() => {
                    const dados = {
                        solicitante: document.getElementById('nomeSolicitante').value,
                        rg: document.getElementById('rgSolicitante').value,
                        contato: document.getElementById('contatoSolicitante').value,
                        empresa: document.getElementById('nomeEmpresa').value,
                        endereco: document.getElementById('enderecoEmpresa').value,
                        natureza: document.getElementById('selectNatureza').value,
                        porte: document.getElementById('porteEmpresa').value,
                        avcb: document.getElementById('avcb').value,
                        associados: document.getElementById('inputAssociados').value || 'N√£o informado'
                    };
                    
                    const solicitacao = salvarSolicitacao('CNPJ', dados);
                    
                    overlay.style.display = 'none';
                    
                    const msg = document.getElementById('messageCNPJ');
                    msg.className = 'form-message success';
                    msg.innerHTML = `‚úÖ CNPJ solicitado! Protocolo: ${solicitacao.protocolo}`;
                    
                    document.getElementById('somSucesso').play();
                    
                    // Limpa o formul√°rio
                    document.getElementById('formCNPJ').reset();
                    resetarCNPJ();
                    
                    mostrarMensagem('Solicita√ß√£o de CNPJ enviada!', 'success');
                }, 2000);
            }
            
            return false;
        }

        // Valida√ß√£o Manifesto
        function validarManifesto(event) {
            event.preventDefault();
            
            let isValid = true;
            const campos = ['materialCarga', 'quantidadeCarga', 'pesoCarga', 'modeloVeiculo', 'placaVeiculo'];
            
            campos.forEach(id => {
                const elemento = document.getElementById(id);
                if (!elemento.value || elemento.value.trim() === '') {
                    mostrarErro(elemento, 'Campo obrigat√≥rio');
                    isValid = false;
                }
            });
            
            if (isValid) {
                const dados = {
                    material: document.getElementById('materialCarga').value,
                    quantidade: document.getElementById('quantidadeCarga').value,
                    peso: document.getElementById('pesoCarga').value,
                    veiculo: document.getElementById('modeloVeiculo').value,
                    placa: document.getElementById('placaVeiculo').value
                };
                
                const solicitacao = salvarSolicitacao('Manifesto', dados);
                
                const msg = document.getElementById('messageManifesto');
                msg.className = 'form-message success';
                msg.innerHTML = `‚úÖ Manifesto gerado! Protocolo: ${solicitacao.protocolo}`;
                
                document.getElementById('somSucesso').play();
                
                // Limpa o formul√°rio
                document.getElementById('materialCarga').value = '';
                document.getElementById('quantidadeCarga').value = '';
                document.getElementById('pesoCarga').value = '';
                document.getElementById('modeloVeiculo').value = '';
                document.getElementById('placaVeiculo').value = '';
                
                mostrarMensagem('Manifesto gerado com sucesso!', 'success');
            }
            
            return false;
        }

        // Fun√ß√µes para Den√∫ncia
        function selecionarPrioridade(elemento, prioridade) {
            document.querySelectorAll('.prioridade-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            elemento.classList.add('selected');
            prioridadeSelecionada = prioridade;
            document.getElementById('prioridadeDenuncia').value = prioridade;
            
            const errorDiv = elemento.parentElement.parentElement.querySelector('.error-message');
            if (errorDiv) errorDiv.style.display = 'none';
        }

        function selecionarTag(elemento) {
            elemento.classList.toggle('selected');
            
            tagsSelecionadas = [];
            document.querySelectorAll('.tag-option.selected').forEach(tag => {
                tagsSelecionadas.push(tag.textContent);
            });
            
            document.getElementById('tagsDenuncia').value = tagsSelecionadas.join(', ');
        }

        function limparDenuncia() {
            document.querySelectorAll('.prioridade-option').forEach(el => {
                el.classList.remove('selected');
            });
            document.querySelectorAll('.tag-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            prioridadeSelecionada = null;
            tagsSelecionadas = [];
            
            limparErros();
        }

        function validarDenuncia(event) {
            event.preventDefault();
            limparErros();
            
            let isValid = true;
            
            const tipo = document.getElementById('tipoIrregularidade');
            if (!tipo.value) {
                mostrarErro(tipo, 'Selecione o tipo de irregularidade');
                isValid = false;
            }
            
            const descricao = document.getElementById('descricaoDenuncia');
            if (!descricao.value || descricao.value.length < 50) {
                mostrarErro(descricao, 'Descreva com mais detalhes (m√≠nimo 50 caracteres)');
                isValid = false;
            }
            
            if (!prioridadeSelecionada) {
                const prioridadeContainer = document.querySelector('.prioridade-container');
                const errorDiv = prioridadeContainer.parentElement.querySelector('.error-message');
                if (errorDiv) {
                    errorDiv.style.display = 'flex';
                    isValid = false;
                }
            }
            
            const checkTermos = document.getElementById('checkVeracidadeDenuncia');
            if (!checkTermos.checked) {
                const errorTermos = document.getElementById('errorTermosDenuncia');
                errorTermos.style.display = 'flex';
                isValid = false;
            }
            
            if (isValid) {
                const dados = {
                    tipo: tipo.value,
                    prioridade: prioridadeSelecionada,
                    local: document.getElementById('localOcorrencia').value || 'N√£o informado',
                    envolvidos: document.getElementById('envolvidos').value || 'N√£o informado',
                    periodo: document.getElementById('dataInicio').value && document.getElementById('dataFim').value ? 
                        `${document.getElementById('dataInicio').value} at√© ${document.getElementById('dataFim').value}` : 'N√£o informado',
                    tags: tagsSelecionadas.join(', ') || 'Nenhuma',
                    descricao: descricao.value,
                    evidencias: document.getElementById('evidencias').value || 'N√£o informado',
                    contato: document.getElementById('contatoDenuncia').value || 'An√¥nimo'
                };
                
                const solicitacao = salvarSolicitacao('Den√∫ncia', dados);
                
                const msg = document.getElementById('messageDenuncia');
                msg.className = 'form-message success';
                msg.innerHTML = `‚úÖ Den√∫ncia registrada! Protocolo: ${solicitacao.protocolo}<br><small>Sua den√∫ncia ser√° analisada em at√© 10 dias √∫teis.</small>`;
                
                document.getElementById('somSucesso').play();
                
                // Limpa o formul√°rio
                document.getElementById('tipoIrregularidade').value = '';
                document.getElementById('descricaoDenuncia').value = '';
                document.getElementById('localOcorrencia').value = '';
                document.getElementById('envolvidos').value = '';
                document.getElementById('dataInicio').value = '';
                document.getElementById('dataFim').value = '';
                document.getElementById('evidencias').value = '';
                document.getElementById('contatoDenuncia').value = '';
                document.getElementById('checkVeracidadeDenuncia').checked = false;
                limparDenuncia();
                
                mostrarMensagem('Den√∫ncia registrada com sucesso!', 'success');
            }
            
            return false;
        }

        // ===== FUN√á√ïES AUXILIARES =====
        function trocarAba(elemento, idAba) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            elemento.classList.add('active');
            
            document.querySelectorAll('.content-area').forEach(area => area.classList.remove('active'));
            document.getElementById(idAba).classList.add('active');
        }

        function verificarNatureza() {
            const select = document.getElementById('selectNatureza');
            const input = document.getElementById('inputAssociados');
            
            if (select.value === "Empresa individual") {
                input.value = "N√£o aplic√°vel";
                input.disabled = true;
                input.style.background = '#f5f5f5';
                input.style.color = '#999';
            } else {
                input.value = "";
                input.disabled = false;
                input.style.background = '#fdfdfe';
                input.style.color = '#333';
            }
        }

        function resetarCNPJ() { 
            const input = document.getElementById('inputAssociados');
            input.disabled = false;
            input.style.background = '#fdfdfe';
            input.style.color = '#333';
        }

        // ===== FUN√á√ïES DO IMPOST√îMETRO =====
        function atualizarImpostometro() {
            valorArrecadado += Math.random() * 10;
            const el = document.getElementById('impostometro');
            if(el) el.innerText = 'R$ ' + valorArrecadado.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            
            const agora = new Date();
            const horaFormatada = agora.toLocaleTimeString('pt-BR');
            const horaEl = document.getElementById('horaAtualizacao');
            if (horaEl) horaEl.textContent = horaFormatada;
            
            atualizarEstatisticasSecundarias();
        }
        
        function atualizarEstatisticasSecundarias() {
            const arrecadacaoDiaria = valorArrecadado / 30;
            const arrecadacaoEl = document.getElementById('arrecadacaoDiaria');
            if (arrecadacaoEl) arrecadacaoEl.textContent = 'R$ ' + Math.round(arrecadacaoDiaria).toLocaleString('pt-BR');
            
            const impostosRecolhidos = Math.floor(15000 + (valorArrecadado / 100));
            const impostosEl = document.getElementById('impostosRecolhidos');
            if (impostosEl) impostosEl.textContent = impostosRecolhidos.toLocaleString('pt-BR');
            
            const taxaBase = 94.7;
            const taxaAtual = taxaBase + (Math.random() * 0.6 - 0.3);
            const taxaEl = document.getElementById('taxaConformidade');
            if (taxaEl) taxaEl.textContent = taxaAtual.toFixed(1) + '%';
            
            const multasBase = 125300;
            const multasAtual = multasBase * (1 + (Math.random() * 0.1 - 0.05));
            const multasEl = document.getElementById('multasAplicadas');
            if (multasEl) multasEl.textContent = 'R$ ' + Math.round(multasAtual).toLocaleString('pt-BR');
            
            const cnpjsBase = 247;
            const cnpjsEl = document.getElementById('novosCnpjs');
            if (cnpjsEl) cnpjsEl.textContent = (cnpjsBase + Math.floor(Math.random() * 5)).toLocaleString('pt-BR');
            
            const denunciasBase = 1842;
            const denunciasEl = document.getElementById('denunciasProcessadas');
            if (denunciasEl) denunciasEl.textContent = (denunciasBase + Math.floor(Math.random() * 10)).toLocaleString('pt-BR');
        }

        function atualizarEstatisticas() {
            const btn = document.querySelector('#aba-transparencia .btn-primary');
            btn.innerHTML = '<div class="loader" style="display:inline-block; width: 20px; height: 20px; margin-right: 10px;"></div> Atualizando...';
            btn.disabled = true;
            
            setTimeout(() => {
                atualizarImpostometro();
                
                btn.innerHTML = 'üîÑ Atualizar Estat√≠sticas';
                btn.disabled = false;
                
                const formCard = document.querySelector('#aba-transparencia .form-card');
                formCard.style.boxShadow = '0 0 30px rgba(40, 167, 69, 0.3)';
                setTimeout(() => formCard.style.boxShadow = '', 1000);
                
                mostrarMensagem('Estat√≠sticas atualizadas!', 'success');
            }, 1500);
        }

        function exportarDados() {
            mostrarMensagem('Relat√≥rio exportado com sucesso!', 'success');
        }

        // ===== INICIALIZA√á√ÉO =====
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar com dados de exemplo se n√£o existirem
            if (!localStorage.getItem('solicitacoes')) {
                const exemploIRPF = {
                    nome: 'Jo√£o Silva',
                    rg: '12.345.678-9',
                    ocupacao: 'Empres√°rio',
                    renda: '15000',
                    veiculos: '2',
                    aeronaves: 'N√£o Possuo',
                    embarcacoes: 'N√£o Possuo'
                };
                salvarSolicitacao('IRPF', exemploIRPF);
                
                const exemploCNPJ = {
                    solicitante: 'Maria Oliveira',
                    rg: '98.765.432-1',
                    contato: '(11) 99999-9999',
                    empresa: 'Com√©rcio Local Ltda',
                    endereco: 'Av. Principal, 123',
                    natureza: 'Sociedade limitada',
                    porte: 'M√©dio',
                    avcb: 'Sim',
                    associados: 'Maria Oliveira, Jo√£o Oliveira'
                };
                salvarSolicitacao('CNPJ', exemploCNPJ);
                
                const exemploDenuncia = {
                    tipo: 'Sonega√ß√£o Fiscal',
                    prioridade: 'alta',
                    local: 'Centro Comercial',
                    envolvidos: 'Empresa X',
                    periodo: '2025-01-01 at√© 2025-03-01',
                    tags: 'Sonega√ß√£o, Caixa 2',
                    descricao: 'Suspeita de sonega√ß√£o fiscal envolvendo a empresa X que n√£o emite notas fiscais h√° meses. Os propriet√°rios ostentam riqueza incompat√≠vel com o faturamento declarado.',
                    evidencias: 'Testemunhas no local',
                    contato: 'An√¥nimo'
                };
                salvarSolicitacao('Den√∫ncia', exemploDenuncia);
                
                const exemploManifesto = {
                    material: 'Cimento',
                    quantidade: '50 sacos',
                    peso: '2500kg',
                    veiculo: 'Benson',
                    placa: 'ABC1D23'
                };
                salvarSolicitacao('Manifesto', exemploManifesto);
            }

            // Configurar contador de caracteres
            const textarea = document.getElementById('descricaoDenuncia');
            const contador = document.getElementById('contadorCaracteres');
            
            if (textarea && contador) {
                textarea.addEventListener('input', function() {
                    contador.textContent = this.value.length;
                    if (this.value.length < 50 && this.value.length > 0) {
                        this.classList.add('input-error');
                    } else {
                        this.classList.remove('input-error');
                    }
                });
            }

            // Valida√ß√£o em tempo real
            document.querySelectorAll('input[required], select[required], textarea[required]').forEach(elemento => {
                elemento.addEventListener('blur', function() {
                    if (!this.value || this.value.trim() === '') {
                        mostrarErro(this, 'Campo obrigat√≥rio');
                    } else {
                        limparErro(this);
                    }
                });
            });

            // Iniciar impost√¥metro
            atualizarImpostometro();
            setInterval(atualizarImpostometro, 5000);
        });
    </script>
</body>
</html>